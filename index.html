<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cipher Tool</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1e40af;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        h1 {
            text-align: center;
            color: #1e40af;
            margin-bottom: 30px;
        }

        h2 {
            text-align: center;
            color: #1e40af;
            margin-bottom: 20px;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .btn {
            background-color: #1e40af;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }

        .btn:hover {
            background-color: #3b82f6;
        }

        .btn-white {
            background-color: white;
            color: #1e40af;
            border: 2px solid #1e40af;
        }

        .btn-white:hover {
            background-color: #f0f0f0;
        }

        .button-group {
            text-align: center;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: bold;
        }

        input, textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }

        input:focus, textarea:focus {
            border-color: #1e40af;
            outline: none;
        }

        textarea {
            height: 100px;
            resize: vertical;
        }

        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #f0f7ff;
            border: 2px solid #1e40af;
            border-radius: 5px;
            display: none;
        }

        .result h3 {
            color: #1e40af;
            margin-top: 0;
        }

        .result-text {
            background-color: white;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            word-wrap: break-word;
        }

        .back-btn {
            background-color: white;
            color: #1e40af;
            border: 1px solid #1e40af;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .back-btn:hover {
            background-color: #f0f0f0;
        }

        .mode-display {
            text-align: center;
            background-color: #f0f7ff;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            color: #1e40af;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Homepage -->
        <div class="page active" id="homepage">
            <h1>üîê Cipher Tool</h1>
            <p style="text-align: center; color: #666; margin-bottom: 30px;">
                Choose your encryption method
            </p>
            <div class="button-group">
                <button class="btn" onclick="goToPage('caesar')">
                    üèõÔ∏è Caesar Cipher
                </button>
                <button class="btn" onclick="goToPage('vigenere')">
                    üîë Vigen√®re Cipher
                </button>
            </div>
        </div>

        <!-- Caesar Cipher Page -->
        <div class="page" id="caesar">
            <button class="back-btn" onclick="goToPage('homepage')">‚Üê Back</button>
            <h2>üèõÔ∏è Caesar Cipher</h2>
            
            <div class="mode-display" id="caesar-mode">Encryption Mode</div>
            
            <div class="button-group">
                <button class="btn" id="caesar-encrypt-btn" onclick="setCaesarMode('encrypt')">
                    üîí Encrypt
                </button>
                <button class="btn-white btn" id="caesar-decrypt-btn" onclick="setCaesarMode('decrypt')">
                    üîì Decrypt
                </button>
            </div>

            <div class="form-group">
                <label for="caesar-shift">Shift Amount (1-25):</label>
                <input type="number" id="caesar-shift" min="1" max="25" value="3">
            </div>

            <div class="form-group">
                <label for="caesar-text">Text to Process:</label>
                <textarea id="caesar-text" placeholder="Enter your text here..."></textarea>
            </div>

            <div class="button-group">
                <button class="btn" onclick="processCaesar()">
                    ‚ö° Process Text
                </button>
            </div>

            <div class="result" id="caesar-result">
                <h3>Result:</h3>
                <div class="result-text" id="caesar-result-text"></div>
            </div>
        </div>

        <!-- Vigen√®re Cipher Page -->
        <div class="page" id="vigenere">
            <button class="back-btn" onclick="goToPage('homepage')">‚Üê Back</button>
            <h2>üîë Vigen√®re Cipher</h2>
            
            <div class="mode-display" id="vigenere-mode">Encryption Mode</div>
            
            <div class="button-group">
                <button class="btn" id="vigenere-encrypt-btn" onclick="setVigenereMode('encrypt')">
                    üîí Encrypt
                </button>
                <button class="btn-white btn" id="vigenere-decrypt-btn" onclick="setVigenereMode('decrypt')">
                    üîì Decrypt
                </button>
            </div>

            <div class="form-group">
                <label for="vigenere-keyword">Keyword:</label>
                <input type="text" id="vigenere-keyword" placeholder="Enter keyword (letters only)" value="KEY">
            </div>

            <div class="form-group">
                <label for="vigenere-text">Text to Process:</label>
                <textarea id="vigenere-text" placeholder="Enter your text here..."></textarea>
            </div>

            <div class="button-group">
                <button class="btn" onclick="processVigenere()">
                    ‚ö° Process Text
                </button>
            </div>

            <div class="result" id="vigenere-result">
                <h3>Result:</h3>
                <div class="result-text" id="vigenere-result-text"></div>
            </div>
        </div>
    </div>

    <script>
        // Variables to track current modes
        var caesarMode = 'encrypt';
        var vigenereMode = 'encrypt';

        // Function to show different pages
        function goToPage(pageName) {
            // Hide all pages
            var pages = document.querySelectorAll('.page');
            for (var i = 0; i < pages.length; i++) {
                pages[i].classList.remove('active');
            }
            
            // Show the selected page
            document.getElementById(pageName).classList.add('active');
        }

        // Function to set Caesar cipher mode (encrypt or decrypt)
        function setCaesarMode(mode) {
            caesarMode = mode;
            var modeDisplay = document.getElementById('caesar-mode');
            var encryptBtn = document.getElementById('caesar-encrypt-btn');
            var decryptBtn = document.getElementById('caesar-decrypt-btn');
            
            if (mode === 'encrypt') {
                modeDisplay.textContent = 'üîí Encryption Mode';
                encryptBtn.className = 'btn';
                decryptBtn.className = 'btn-white btn';
            } else {
                modeDisplay.textContent = 'üîì Decryption Mode';
                encryptBtn.className = 'btn-white btn';
                decryptBtn.className = 'btn';
            }
        }

        // Function to set Vigen√®re cipher mode (encrypt or decrypt)
        function setVigenereMode(mode) {
            vigenereMode = mode;
            var modeDisplay = document.getElementById('vigenere-mode');
            var encryptBtn = document.getElementById('vigenere-encrypt-btn');
            var decryptBtn = document.getElementById('vigenere-decrypt-btn');
            
            if (mode === 'encrypt') {
                modeDisplay.textContent = 'üîí Encryption Mode';
                encryptBtn.className = 'btn';
                decryptBtn.className = 'btn-white btn';
            } else {
                modeDisplay.textContent = 'üîì Decryption Mode';
                encryptBtn.className = 'btn-white btn';
                decryptBtn.className = 'btn';
            }
        }

        // Caesar cipher function
        function caesarCipher(text, shift, isDecrypt) {
            var result = '';
            if (isDecrypt) {
                shift = -shift;
            }
            
            for (var i = 0; i < text.length; i++) {
                var char = text[i];
                
                if (char >= 'A' && char <= 'Z') {
                    // Uppercase letter
                    var newChar = String.fromCharCode(((char.charCodeAt(0) - 65 + shift + 26) % 26) + 65);
                    result += newChar;
                } else if (char >= 'a' && char <= 'z') {
                    // Lowercase letter
                    var newChar = String.fromCharCode(((char.charCodeAt(0) - 97 + shift + 26) % 26) + 97);
                    result += newChar;
                } else {
                    // Not a letter, keep as is
                    result += char;
                }
            }
            return result;
        }

        // Vigen√®re cipher function
        function vigenereCipher(text, keyword, isDecrypt) {
            var result = '';
            keyword = keyword.toUpperCase().replace(/[^A-Z]/g, '');
            if (keyword === '') return text;
            
            var keyIndex = 0;
            
            for (var i = 0; i < text.length; i++) {
                var char = text[i];
                
                if ((char >= 'A' && char <= 'Z') || (char >= 'a' && char <= 'z')) {
                    var isUpperCase = (char >= 'A' && char <= 'Z');
                    var charCode = char.toUpperCase().charCodeAt(0) - 65;
                    var keyCode = keyword[keyIndex % keyword.length].charCodeAt(0) - 65;
                    
                    var newCharCode;
                    if (isDecrypt) {
                        newCharCode = (charCode - keyCode + 26) % 26;
                    } else {
                        newCharCode = (charCode + keyCode) % 26;
                    }
                    
                    var newChar = String.fromCharCode(newCharCode + 65);
                    result += isUpperCase ? newChar : newChar.toLowerCase();
                    keyIndex++;
                } else {
                    result += char;
                }
            }
            return result;
        }

        // Process Caesar cipher
        function processCaesar() {
            var shift = parseInt(document.getElementById('caesar-shift').value);
            var text = document.getElementById('caesar-text').value;
            
            if (!text) {
                alert('Please enter some text!');
                return;
            }
            
            if (!shift || shift < 1 || shift > 25) {
                alert('Please enter a valid shift amount (1-25)!');
                return;
            }
            
            var result = caesarCipher(text, shift, caesarMode === 'decrypt');
            
            document.getElementById('caesar-result-text').textContent = result;
            document.getElementById('caesar-result').style.display = 'block';
        }

        // Process Vigen√®re cipher
        function processVigenere() {
            var keyword = document.getElementById('vigenere-keyword').value;
            var text = document.getElementById('vigenere-text').value;
            
            if (!text) {
                alert('Please enter some text!');
                return;
            }
            
            if (!keyword) {
                alert('Please enter a keyword!');
                return;
            }
            
            if (!/^[a-zA-Z]+$/.test(keyword)) {
                alert('Keyword should contain only letters!');
                return;
            }
            
            var result = vigenereCipher(text, keyword, vigenereMode === 'decrypt');
            
            document.getElementById('vigenere-result-text').textContent = result;
            document.getElementById('vigenere-result').style.display = 'block';
        }
    </script>
</body>
</html>
